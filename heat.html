<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=VzKN1NWYidtfuD08x1rwwCtLHguIoZ0f"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:500px;width:100%;}
		#r-result{width:100%;}
    </style>
</head>
<body>
	<div id="container"></div>
	<div id="r-result">
		<input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(121.5165514187323, 31.314807557719067);
    map.centerAndZoom(point, 10);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放

    var points =[{"lat":31.314807557719067,"lng":121.5165514187323,"count":"90000.0"},{"lat":31.190171346023895,"lng":121.4353471760722,"count":"17500.0"},{"lat":31.20132024215305,"lng":121.33132429632225,"count":"20000.0"},{"lat":31.268794005469758,"lng":121.49724320776184,"count":"8000.0"},{"lat":31.181235069815546,"lng":121.42347527824899,"count":"15000.0"},{"lat":31.25048561403502,"lng":121.59882730303529,"count":"22500.0"},{"lat":31.23836357368974,"lng":121.38870245765293,"count":"35000.0"},{"lat":31.21224316606366,"lng":121.40533745066305,"count":"9000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"37500.0"},{"lat":31.20768842245736,"lng":121.32279015581,"count":"20000.0"},{"lat":31.08575886428764,"lng":121.53267799417972,"count":"30000.0"},{"lat":31.167934832197215,"lng":121.56837434200956,"count":"37500.0"},{"lat":31.2389912643877,"lng":121.52721879666329,"count":"22500.0"},{"lat":31.174197455670768,"lng":121.40431652285774,"count":"17500.0"},{"lat":31.204438193903023,"lng":121.45487127770417,"count":"22500.0"},{"lat":31.314807557719067,"lng":121.5165514187323,"count":"30000.0"},{"lat":31.23836357368974,"lng":121.38870245765293,"count":"30000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"95000.0"},{"lat":31.181513920386504,"lng":121.42440440731592,"count":"25000.0"},{"lat":31.23604931984768,"lng":121.50072786778426,"count":"2500.0"},{"lat":31.171882165735287,"lng":121.44107956356541,"count":"30000.0"},{"lat":31.08575886428764,"lng":121.53267799417972,"count":"32500.0"},{"lat":31.25404501828352,"lng":121.68049169550645,"count":"15000.0"},{"lat":31.243118001906566,"lng":121.47957799397591,"count":"60000.0"},{"lat":31.230859960984052,"lng":121.53917251664387,"count":"12500.0"},{"lat":31.25048561403502,"lng":121.59882730303529,"count":"15500.0"},{"lat":31.181519394733304,"lng":121.42422433838324,"count":"25000.0"},{"lat":31.183709645827268,"lng":121.61225276184815,"count":"22500.0"},{"lat":31.28256410613524,"lng":121.54828081349785,"count":"30000.0"},{"lat":31.24097346921036,"lng":121.67746551714174,"count":"15000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"27500.0"},{"lat":31.181513920386504,"lng":121.42440440731592,"count":"4000.0"},{"lat":31.25048561403502,"lng":121.59882730303529,"count":"1500.0"},{"lat":31.252420534488255,"lng":121.45922193118737,"count":"14000.0"},{"lat":31.28550623085753,"lng":121.63227288802003,"count":"12500.0"},{"lat":31.213940318078336,"lng":121.63482804707702,"count":"20000.0"},{"lat":31.226903242563782,"lng":121.36702506830673,"count":"37500.0"},{"lat":31.210977594913697,"lng":121.59775915041101,"count":"12500.0"},{"lat":31.253822899629586,"lng":121.49256634541236,"count":"22500.0"},{"lat":31.2389912643877,"lng":121.52721879666329,"count":"22500.0"},{"lat":31.2846755735423,"lng":121.19930419284466,"count":"22500.0"},{"lat":31.23836357368974,"lng":121.38870245765293,"count":"34500.0"},{"lat":31.205713310877528,"lng":121.42072205540332,"count":"9000.0"},{"lat":31.269407381256205,"lng":121.52224903281922,"count":"22500.0"},{"lat":31.23604931984768,"lng":121.50072786778426,"count":"9000.0"},{"lat":31.23836357368974,"lng":121.38870245765293,"count":"27000.0"},{"lat":31.114103173781448,"lng":121.38559245929939,"count":"4500.0"},{"lat":31.174197455670768,"lng":121.40431652285774,"count":"30000.0"},{"lat":31.252420534488255,"lng":121.45922193118737,"count":"20000.0"},{"lat":31.24675531471183,"lng":121.49422286928124,"count":"25000.0"},{"lat":31.213130259419938,"lng":121.61675173006257,"count":"32500.0"},{"lat":31.240292187964563,"lng":121.53361101919766,"count":"12500.0"},{"lat":31.253822899629586,"lng":121.49256634541236,"count":"27500.0"},{"lat":31.190341748237923,"lng":121.46434034752555,"count":"30000.0"},{"lat":31.205713310877528,"lng":121.42072205540332,"count":"25000.0"},{"lat":31.204743435788725,"lng":121.60982758310692,"count":"19500.0"},{"lat":31.243034774325526,"lng":121.37624801589295,"count":"11500.0"},{"lat":31.227048345575287,"lng":121.44184583164,"count":"37500.0"},{"lat":31.23612334581976,"lng":121.3557331551479,"count":"27500.0"},{"lat":31.227048345575287,"lng":121.44184583164,"count":"37500.0"},{"lat":31.237942632085932,"lng":121.41023608010208,"count":"5000.0"},{"lat":31.204743435788725,"lng":121.60982758310692,"count":"30000.0"},{"lat":31.20886131658109,"lng":121.32408105148674,"count":"47500.0"},{"lat":31.181519394733304,"lng":121.42422433838324,"count":"30000.0"},{"lat":31.1969942850944,"lng":121.44550970630658,"count":"21000.0"},{"lat":31.2389912643877,"lng":121.52721879666329,"count":"22500.0"},{"lat":31.191139327363043,"lng":121.44032129759628,"count":"10000.0"},{"lat":31.24075144608993,"lng":121.66365439601073,"count":"27500.0"},{"lat":31.183327597440623,"lng":121.37496131272454,"count":"4000.0"},{"lat":31.213940318078336,"lng":121.63482804707702,"count":"22500.0"},{"lat":31.230752392762348,"lng":121.485498386931,"count":"20000.0"},{"lat":31.171019780744707,"lng":121.40222499813886,"count":"16000.0"},{"lat":31.185536998735323,"lng":121.61118467030865,"count":"9500.0"},{"lat":31.205701405752656,"lng":121.42056638624489,"count":"15000.0"},{"lat":31.227048345575287,"lng":121.44184583164,"count":"52500.0"},{"lat":31.1969942850944,"lng":121.44550970630658,"count":"15000.0"},{"lat":31.24075144608993,"lng":121.66365439601073,"count":"27500.0"},{"lat":31.2389912643877,"lng":121.52721879666329,"count":"22500.0"},{"lat":31.234210750467614,"lng":121.43718260646645,"count":"8000.0"},{"lat":31.191139327363043,"lng":121.44032129759628,"count":"11500.0"},{"lat":31.185536998735323,"lng":121.61118467030865,"count":"12500.0"},{"lat":31.181235069815546,"lng":121.42347527824899,"count":"22500.0"},{"lat":31.12931162080221,"lng":121.3700891614521,"count":"2500.0"},{"lat":31.32532455959392,"lng":121.6138227402693,"count":"30000.0"},{"lat":31.21220102027176,"lng":121.47157973593552,"count":"52500.0"},{"lat":31.174120277837716,"lng":121.3936206533709,"count":"8000.0"},{"lat":31.3151031062594,"lng":121.52455489502941,"count":"11500.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"7500.0"},{"lat":31.20102786270906,"lng":121.5595560002081,"count":"20000.0"},{"lat":31.197202015909543,"lng":121.4449536551959,"count":"15000.0"},{"lat":31.24075144608993,"lng":121.66365439601073,"count":"20000.0"},{"lat":31.234210750467614,"lng":121.43718260646645,"count":"8000.0"},{"lat":31.185536998735323,"lng":121.61118467030865,"count":"15000.0"},{"lat":31.12931162080221,"lng":121.3700891614521,"count":"12500.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"7000.0"},{"lat":31.224557682825164,"lng":121.4813744639619,"count":"22500.0"},{"lat":31.28256410613524,"lng":121.54828081349785,"count":"30000.0"},{"lat":31.204743435788725,"lng":121.60982758310692,"count":"24000.0"},{"lat":31.268794005469758,"lng":121.49724320776184,"count":"7500.0"},{"lat":31.255428316994568,"lng":121.50795809168143,"count":"11500.0"},{"lat":31.31396314880938,"lng":121.5168061963207,"count":"8000.0"},{"lat":31.183951225403636,"lng":121.61230216505797,"count":"8000.0"},{"lat":31.20102786270906,"lng":121.5595560002081,"count":"22500.0"},{"lat":31.32532455959392,"lng":121.6138227402693,"count":"30000.0"},{"lat":31.1969942850944,"lng":121.44550970630658,"count":"12500.0"},{"lat":31.24075144608993,"lng":121.66365439601073,"count":"37500.0"},{"lat":31.234210750467614,"lng":121.43718260646645,"count":"8000.0"},{"lat":31.185536998735323,"lng":121.61118467030865,"count":"7000.0"},{"lat":31.31396314880938,"lng":121.5168061963207,"count":"7000.0"},{"lat":31.41416143544492,"lng":121.498923670336,"count":"7500.0"},{"lat":31.238991075892653,"lng":121.41925669094694,"count":"3500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"8000.0"},{"lat":31.17192661338663,"lng":121.4413309094471,"count":"12000.0"},{"lat":31.255428316994568,"lng":121.50795809168143,"count":"12000.0"},{"lat":31.228146520710812,"lng":121.36708032846849,"count":"11500.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"11500.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"11000.0"},{"lat":31.19253415169164,"lng":121.46725411643027,"count":"8500.0"},{"lat":31.24463457443524,"lng":121.49655122652075,"count":"7000.0"},{"lat":31.322759804442157,"lng":121.66130595591599,"count":"13500.0"},{"lat":31.23164420795233,"lng":121.39268664740334,"count":"12500.0"},{"lat":31.214878755748877,"lng":121.63283719904986,"count":"45000.0"},{"lat":31.12931162080221,"lng":121.3700891614521,"count":"7000.0"},{"lat":31.268794005469758,"lng":121.49724320776184,"count":"7000.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"5000.0"},{"lat":31.221423011045545,"lng":121.39137806600424,"count":"5000.0"},{"lat":31.204743435788725,"lng":121.60982758310692,"count":"22500.0"},{"lat":31.17711074059888,"lng":121.40230209610758,"count":"11500.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"11500.0"},{"lat":31.17602713302,"lng":121.42080951352948,"count":"75000.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"9000.0"},{"lat":31.35972126389798,"lng":121.40395668233148,"count":"8500.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"9000.0"},{"lat":31.31396314880938,"lng":121.5168061963207,"count":"7000.0"},{"lat":31.268794005469758,"lng":121.49724320776184,"count":"12000.0"},{"lat":31.20673907240176,"lng":121.60949720340815,"count":"17500.0"},{"lat":31.25121036163269,"lng":121.41599211128293,"count":"8000.0"},{"lat":31.241146397937918,"lng":121.48873063747799,"count":"22500.0"},{"lat":31.20327881806895,"lng":121.58795563965167,"count":"24000.0"},{"lat":31.183951225403636,"lng":121.61230216505797,"count":"15000.0"},{"lat":31.210824699767006,"lng":121.5918493332067,"count":"19500.0"},{"lat":31.213301496813617,"lng":121.3876161086648,"count":"15000.0"},{"lat":31.20615195551832,"lng":121.26999263854384,"count":"5000.0"},{"lat":31.212065394595033,"lng":121.48423984114879,"count":"15000.0"},{"lat":31.17602713302,"lng":121.42080951352948,"count":"37500.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"9000.0"},{"lat":31.24463457443524,"lng":121.49655122652075,"count":"8000.0"},{"lat":31.322759804442157,"lng":121.66130595591599,"count":"13500.0"},{"lat":31.272467865466805,"lng":121.48628199679345,"count":"5500.0"},{"lat":31.204447517505525,"lng":121.58767865074088,"count":"22500.0"},{"lat":31.240865686767624,"lng":121.45615944061905,"count":"8500.0"},{"lat":31.230174483423376,"lng":121.48517220052234,"count":"13500.0"},{"lat":31.219004437831153,"lng":121.25945962645612,"count":"18000.0"},{"lat":31.214757102875517,"lng":121.4091799875159,"count":"15000.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"22500.0"},{"lat":31.02851767873284,"lng":121.45433663590872,"count":"37500.0"},{"lat":31.182204598335762,"lng":121.58074436011941,"count":"20000.0"},{"lat":31.209652899429813,"lng":121.5891625912569,"count":"12000.0"},{"lat":31.3151031062594,"lng":121.52455489502941,"count":"11500.0"},{"lat":31.17602713302,"lng":121.42080951352948,"count":"37500.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"8000.0"},{"lat":31.169614577763696,"lng":121.41063119827065,"count":"34500.0"},{"lat":31.252420534488255,"lng":121.45922193118737,"count":"20000.0"},{"lat":31.22730896362263,"lng":121.536117469435,"count":"15000.0"},{"lat":31.17662523956151,"lng":121.41868887293239,"count":"6000.0"},{"lat":31.058642065048076,"lng":121.24850997218812,"count":"9000.0"},{"lat":31.19237312066628,"lng":121.46531195296853,"count":"30000.0"},{"lat":31.182813813278386,"lng":121.40645001641005,"count":"15000.0"},{"lat":31.143680517056925,"lng":121.35369776284543,"count":"15000.0"},{"lat":31.25121036163269,"lng":121.41599211128293,"count":"12500.0"},{"lat":31.254321051372358,"lng":121.68256974564268,"count":"40000.0"},{"lat":31.283288847590075,"lng":121.51057622375127,"count":"9000.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"30000.0"},{"lat":31.197202015909543,"lng":121.4449536551959,"count":"20000.0"},{"lat":31.252420534488255,"lng":121.45922193118737,"count":"9500.0"},{"lat":31.19237312066628,"lng":121.46531195296853,"count":"37500.0"},{"lat":31.182813813278386,"lng":121.40645001641005,"count":"8000.0"},{"lat":31.17662523956151,"lng":121.41868887293239,"count":"6000.0"},{"lat":31.2846755735423,"lng":121.19930419284466,"count":"27500.0"},{"lat":31.19237312066628,"lng":121.46531195296853,"count":"20000.0"},{"lat":31.163866714097114,"lng":121.43878501461482,"count":"7500.0"},{"lat":31.212015021113636,"lng":121.48470041675664,"count":"15000.0"},{"lat":31.219625265275152,"lng":121.54160252198061,"count":"11500.0"},{"lat":31.210824699767006,"lng":121.5918493332067,"count":"12000.0"},{"lat":31.214757102875517,"lng":121.4091799875159,"count":"22500.0"},{"lat":31.227833923733225,"lng":121.42657083813806,"count":"12500.0"},{"lat":31.191139327363043,"lng":121.44032129759628,"count":"37500.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"9000.0"},{"lat":31.144152387564034,"lng":121.74002545589141,"count":"14000.0"},{"lat":31.19237312066628,"lng":121.46531195296853,"count":"45000.0"},{"lat":31.214757102875517,"lng":121.4091799875159,"count":"22500.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"3000.0"},{"lat":31.2846755735423,"lng":121.19930419284466,"count":"22500.0"},{"lat":31.230859960984052,"lng":121.53917251664387,"count":"12500.0"},{"lat":34.347032664394796,"lng":118.31962639994161,"count":"12500.0"},{"lat":31.212015021113636,"lng":121.48470041675664,"count":"12000.0"},{"lat":31.25121036163269,"lng":121.41599211128293,"count":"7000.0"},{"lat":31.176866134895995,"lng":121.57319952986994,"count":"14000.0"},{"lat":31.058642065048076,"lng":121.24850997218812,"count":"9000.0"},{"lat":31.212061285347687,"lng":121.4106525447045,"count":"8000.0"},{"lat":31.259036889111243,"lng":121.49226377545556,"count":"2500.0"},{"lat":31.208952883745123,"lng":121.48852910802667,"count":"32500.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"8500.0"},{"lat":31.230859960984052,"lng":121.53917251664387,"count":"11500.0"},{"lat":31.205990996313957,"lng":121.58712588922499,"count":"22500.0"},{"lat":31.2344343806696,"lng":121.40605831119073,"count":"12500.0"},{"lat":31.272467865466805,"lng":121.48628199679345,"count":"14000.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"9000.0"},{"lat":31.16707764281051,"lng":121.43719621220173,"count":"8500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"15000.0"},{"lat":31.31338313292139,"lng":121.51677887058574,"count":"9000.0"},{"lat":31.217911164944837,"lng":121.43735996700805,"count":"15000.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.2846755735423,"lng":121.19930419284466,"count":"22500.0"},{"lat":31.208620606180546,"lng":121.46435421646432,"count":"5000.0"},{"lat":31.208952883745123,"lng":121.48852910802667,"count":"37500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"7000.0"},{"lat":31.253122852610353,"lng":121.45882660400025,"count":"7500.0"},{"lat":31.178354317962444,"lng":121.40661717579427,"count":"15000.0"},{"lat":31.284777879877193,"lng":121.43284190917272,"count":"12500.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"12000.0"},{"lat":31.22682423583856,"lng":121.48087218272413,"count":"11500.0"},{"lat":31.093540565622746,"lng":121.39670126455799,"count":"30000.0"},{"lat":31.20656086147428,"lng":121.18719926199589,"count":"16000.0"},{"lat":31.243353678488763,"lng":121.49098468632467,"count":"14500.0"},{"lat":31.314807557719067,"lng":121.5165514187323,"count":"25000.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"15000.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"10500.0"},{"lat":31.163866714097114,"lng":121.43878501461482,"count":"10000.0"},{"lat":31.208952883745123,"lng":121.48852910802667,"count":"62500.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"10000.0"},{"lat":31.178998016085846,"lng":121.46801593879088,"count":"27500.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"13000.0"},{"lat":31.219625265275152,"lng":121.54160252198061,"count":"11500.0"},{"lat":31.227765973483283,"lng":121.3580450225304,"count":"22500.0"},{"lat":31.20673907240176,"lng":121.60949720340815,"count":"12000.0"},{"lat":31.264284836095637,"lng":121.49567602666404,"count":"1500.0"},{"lat":31.176866134895995,"lng":121.57319952986994,"count":"15000.0"},{"lat":31.25048561403502,"lng":121.59882730303529,"count":"20000.0"},{"lat":31.20656086147428,"lng":121.18719926199589,"count":"12000.0"},{"lat":31.23136906483306,"lng":121.54353771548989,"count":"9000.0"},{"lat":31.212061285347687,"lng":121.4106525447045,"count":"8000.0"},{"lat":31.0282369626667,"lng":121.45938557999366,"count":"15000.0"},{"lat":31.222567429554214,"lng":121.46019445290199,"count":"6000.0"},{"lat":31.247422043397687,"lng":121.44883860284848,"count":"12000.0"},{"lat":31.27659348515039,"lng":121.48507334918742,"count":"12500.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.177650763418228,"lng":121.40694860740878,"count":"8000.0"},{"lat":31.237327414903067,"lng":121.47261740995215,"count":"15000.0"},{"lat":31.178998016085846,"lng":121.46801593879088,"count":"23000.0"},{"lat":31.234796483167152,"lng":121.53346433039941,"count":"22500.0"},{"lat":31.176471763115952,"lng":121.40464524967437,"count":"30000.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"7500.0"},{"lat":31.231913875309985,"lng":121.45627222916396,"count":"32500.0"},{"lat":31.260972133321154,"lng":121.61866638112146,"count":"4500.0"},{"lat":31.23136906483306,"lng":121.54353771548989,"count":"7000.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"22500.0"},{"lat":31.244568142130277,"lng":121.44181660886345,"count":"30000.0"},{"lat":31.169152089592195,"lng":121.44623500472937,"count":"19000.0"},{"lat":31.210824699767006,"lng":121.5918493332067,"count":"35000.0"},{"lat":31.163866714097114,"lng":121.43878501461482,"count":"7500.0"},{"lat":31.312988303639866,"lng":121.5186522525912,"count":"11500.0"},{"lat":31.248279036770633,"lng":121.45274487268064,"count":"6500.0"},{"lat":31.234210750467614,"lng":121.43718260646645,"count":"6000.0"},{"lat":31.232035563162935,"lng":121.66399848115665,"count":"14000.0"},{"lat":31.27761883236465,"lng":121.54164872812113,"count":"16000.0"},{"lat":31.174719428823572,"lng":121.4401630955775,"count":"8000.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.230953619778557,"lng":121.43306539833105,"count":"7500.0"},{"lat":31.25888850774239,"lng":121.49333421157246,"count":"16500.0"},{"lat":31.23136906483306,"lng":121.54353771548989,"count":"6000.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.285797752171288,"lng":121.54642654473874,"count":"1500.0"},{"lat":31.21145127920194,"lng":121.4659764367407,"count":"9000.0"},{"lat":31.231182465743412,"lng":121.45647172844482,"count":"24000.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"15000.0"},{"lat":31.24097346921036,"lng":121.67746551714174,"count":"12500.0"},{"lat":31.174719428823572,"lng":121.4401630955775,"count":"35000.0"},{"lat":31.317368163472278,"lng":121.49499903668256,"count":"7500.0"},{"lat":31.23760918876815,"lng":121.47717354135459,"count":"15000.0"},{"lat":31.176866134895995,"lng":121.57319952986994,"count":"12500.0"},{"lat":31.195992965291545,"lng":121.61321257433639,"count":"15000.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"15000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"37500.0"},{"lat":31.275263164147482,"lng":121.5748625026741,"count":"45000.0"},{"lat":31.259036889111243,"lng":121.49226377545556,"count":"15000.0"},{"lat":31.214757102875517,"lng":121.4091799875159,"count":"15000.0"},{"lat":31.163866714097114,"lng":121.43878501461482,"count":"11500.0"},{"lat":31.41100123188816,"lng":121.48967756736693,"count":"5000.0"},{"lat":31.214757102875517,"lng":121.4091799875159,"count":"15000.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"15000.0"},{"lat":31.24057808314718,"lng":121.47261984795331,"count":"6000.0"},{"lat":31.187580404054902,"lng":121.38053845595782,"count":"7500.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"30000.0"},{"lat":31.230859960984052,"lng":121.53917251664387,"count":"16000.0"},{"lat":31.204743435788725,"lng":121.60982758310692,"count":"24000.0"},{"lat":31.22667521717989,"lng":121.48015758069094,"count":"17500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"7000.0"},{"lat":31.259036889111243,"lng":121.49226377545556,"count":"2500.0"},{"lat":31.230859960984052,"lng":121.53917251664387,"count":"16000.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"25000.0"},{"lat":31.314807557719067,"lng":121.5165514187323,"count":"25000.0"},{"lat":31.246410210915514,"lng":121.54854127268895,"count":"20000.0"},{"lat":31.193310407151365,"lng":121.42277692117266,"count":"20000.0"},{"lat":31.23697047134693,"lng":121.4199624671285,"count":"12500.0"},{"lat":31.36433805543363,"lng":121.25101353755592,"count":"7000.0"},{"lat":31.219625265275152,"lng":121.54160252198061,"count":"11500.0"},{"lat":31.036836622197246,"lng":121.23757482824901,"count":"5000.0"},{"lat":31.31258308146269,"lng":121.517762896899,"count":"22500.0"},{"lat":31.217911164944837,"lng":121.43735996700805,"count":"17500.0"},{"lat":31.19439889746693,"lng":121.51732830837125,"count":"4500.0"},{"lat":31.359532495108592,"lng":121.43979568466952,"count":"21500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"8500.0"},{"lat":31.246410210915514,"lng":121.54854127268895,"count":"25000.0"},{"lat":31.20598905788296,"lng":121.60832430386988,"count":"26500.0"},{"lat":31.181513920386504,"lng":121.42440440731592,"count":"25000.0"},{"lat":31.247422043397687,"lng":121.44883860284848,"count":"10500.0"},{"lat":31.254321051372358,"lng":121.68256974564268,"count":"40000.0"},{"lat":31.30635741989294,"lng":121.52492715462934,"count":"15000.0"},{"lat":31.293645197816517,"lng":121.16758147877718,"count":"9000.0"},{"lat":31.23697047134693,"lng":121.4199624671285,"count":"11000.0"},{"lat":31.28249722898657,"lng":121.49191854079479,"count":"6000.0"},{"lat":31.182967587509708,"lng":121.4171277230578,"count":"23000.0"},{"lat":31.176866134895995,"lng":121.57319952986994,"count":"4500.0"},{"lat":31.20656086147428,"lng":121.18719926199589,"count":"25000.0"},{"lat":31.211862369177485,"lng":121.590894809043,"count":"20000.0"},{"lat":31.21069527779121,"lng":121.46687972155812,"count":"11000.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"10000.0"},{"lat":31.254321051372358,"lng":121.68256974564268,"count":"40000.0"},{"lat":31.23709417570493,"lng":121.47256851608154,"count":"15000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"27500.0"},{"lat":31.174719428823572,"lng":121.4401630955775,"count":"30000.0"},{"lat":31.210824699767006,"lng":121.5918493332067,"count":"45000.0"},{"lat":31.17634560768403,"lng":121.4169746203582,"count":"35000.5"},{"lat":31.17711074059888,"lng":121.40230209610758,"count":"11500.0"},{"lat":31.198420817224697,"lng":121.44632128850431,"count":"19500.0"},{"lat":31.243353678488763,"lng":121.49098468632467,"count":"14500.0"},{"lat":31.25404501828352,"lng":121.68049169550645,"count":"15000.0"},{"lat":31.171019780744707,"lng":121.40222499813886,"count":"16000.0"},{"lat":31.246410210915514,"lng":121.54854127268895,"count":"12000.0"},{"lat":31.194427729013544,"lng":121.51697278420296,"count":"25000.0"},{"lat":31.21548794980183,"lng":121.42048969610688,"count":"5000.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"8000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"20000.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"22500.0"},{"lat":31.243353678488763,"lng":121.49098468632467,"count":"14500.0"},{"lat":31.17634560768403,"lng":121.4169746203582,"count":"32500.5"},{"lat":31.25987612765179,"lng":121.5148551131378,"count":"6000.0"},{"lat":31.22730896362263,"lng":121.536117469435,"count":"12500.0"},{"lat":31.254321051372358,"lng":121.68256974564268,"count":"32500.0"},{"lat":31.10675087594826,"lng":121.45082911221446,"count":"6500.0"},{"lat":30.90416399212516,"lng":121.92613818805968,"count":"3000.0"},{"lat":31.265401274197806,"lng":121.47123958806264,"count":"5000.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"8000.0"},{"lat":31.205990996313957,"lng":121.58712588922499,"count":"20000.0"},{"lat":31.2360655290006,"lng":121.52936063188056,"count":"15000.0"},{"lat":31.212015021113636,"lng":121.48470041675664,"count":"15000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"30000.0"},{"lat":31.1967417794055,"lng":121.59521473508792,"count":"10500.0"},{"lat":31.22098572437784,"lng":121.4455347207282,"count":"11500.0"},{"lat":31.243353678488763,"lng":121.49098468632467,"count":"17000.0"},{"lat":31.187106117434123,"lng":121.49287636771165,"count":"45000.0"},{"lat":31.17634560768403,"lng":121.4169746203582,"count":"35000.5"},{"lat":31.32532455959392,"lng":121.6138227402693,"count":"31500.0"},{"lat":31.27290077715412,"lng":121.40368145769273,"count":"20000.0"},{"lat":31.201373512188724,"lng":121.43861353617773,"count":"37500.0"},{"lat":31.253822899629586,"lng":121.49256634541236,"count":"8000.0"},{"lat":31.218955600145797,"lng":121.54195537907985,"count":"9500.0"},{"lat":31.254477715962665,"lng":121.45785418020094,"count":"7500.0"},{"lat":31.246410210915514,"lng":121.54854127268895,"count":"4000.0"},{"lat":31.208233322316445,"lng":121.6104135989945,"count":"7000.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"9000.0"},{"lat":31.208126240252163,"lng":121.61054985936408,"count":"20000.0"},{"lat":31.187106117434123,"lng":121.49287636771165,"count":"60000.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"5500.0"},{"lat":31.20673907240176,"lng":121.60949720340815,"count":"20000.0"},{"lat":31.266020086279877,"lng":121.48373952499516,"count":"7500.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"11500.0"},{"lat":31.18691857416384,"lng":121.1914506796694,"count":"15000.0"},{"lat":31.221202479884095,"lng":121.43900489644771,"count":"15000.0"},{"lat":31.17634560768403,"lng":121.4169746203582,"count":"22500.0"},{"lat":31.16905830135548,"lng":121.39400825872387,"count":"17500.0"},{"lat":31.210824699767006,"lng":121.5918493332067,"count":"45000.0"},{"lat":31.200208369797128,"lng":121.44348142229559,"count":"5500.0"},{"lat":31.16984728992142,"lng":121.41046851514281,"count":"10500.0"},{"lat":31.202659379584404,"lng":121.41869543685075,"count":"9000.0"},{"lat":31.249845448728447,"lng":121.55962181456127,"count":"9000.0"},{"lat":31.24463457443524,"lng":121.49655122652075,"count":"6500.0"},{"lat":31.232710168983697,"lng":121.45534535484384,"count":"12500.0"},{"lat":31.189637537238966,"lng":121.48245808989857,"count":"15000.0"},{"lat":31.225774072446796,"lng":121.43806958075074,"count":"12500.0"},{"lat":31.31258308146269,"lng":121.517762896899,"count":"22500.0"},{"lat":31.25888850774239,"lng":121.49333421157246,"count":"11500.0"},{"lat":31.16707764281051,"lng":121.43719621220173,"count":"8500.0"},{"lat":31.21069527779121,"lng":121.46687972155812,"count":"7500.0"},{"lat":31.144678878531117,"lng":121.57099300998769,"count":"4000.0"},{"lat":31.275263164147482,"lng":121.5748625026741,"count":"37500.0"},{"lat":31.10276513201186,"lng":121.5139554694187,"count":"10000.0"},{"lat":31.282343968822236,"lng":121.54849229258102,"count":"25500.0"},{"lat":31.20656086147428,"lng":121.18719926199589,"count":"17500.0"},{"lat":31.227203440768868,"lng":121.49607206403445,"count":"9500.0"},{"lat":31.10276513201186,"lng":121.5139554694187,"count":"9000.0"},{"lat":31.24463457443524,"lng":121.49655122652075,"count":"7000.0"},{"lat":31.236904128200703,"lng":121.4337480413491,"count":"11500.0"},{"lat":31.214181508943156,"lng":121.59174496447932,"count":"30000.0"},{"lat":31.23538080348789,"lng":121.45475555700204,"count":"20000.0"},{"lat":31.243353678488763,"lng":121.49098468632467,"count":"14500.0"},{"lat":31.181513920386504,"lng":121.42440440731592,"count":"30000.0"},{"lat":31.2546278684975,"lng":121.67946599500395,"count":"13500.0"},{"lat":31.23709417570493,"lng":121.47256851608154,"count":"40000.0"},{"lat":31.178305508282275,"lng":121.40873289906699,"count":"25000.0"},{"lat":31.236435784186607,"lng":121.46986344600444,"count":"8000.0"},{"lat":31.25018748824325,"lng":121.45080764361107,"count":"42500.0"},{"lat":31.25121036163269,"lng":121.41599211128293,"count":"8000.0"},{"lat":31.21317293538137,"lng":121.6184621729231,"count":"19000.0"},{"lat":31.28550623085753,"lng":121.63227288802003,"count":"12500.0"},{"lat":31.230259971398542,"lng":121.33854576174069,"count":"5000.0"},{"lat":31.215612158780182,"lng":121.55648780090823,"count":"7500.0"},{"lat":31.12848552918404,"lng":121.37054975861929,"count":"27000.0"},{"lat":30.91779155870976,"lng":121.46237674779942,"count":"8500.0"},{"lat":31.170387806996885,"lng":121.41079828309553,"count":"12000.0"},{"lat":31.074013019743116,"lng":121.40748694932464,"count":"8500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"8000.0"},{"lat":31.238991075892653,"lng":121.41925669094694,"count":"20000.0"},{"lat":31.17602713302,"lng":121.42080951352948,"count":"45000.0"},{"lat":31.074013019743116,"lng":121.40748694932464,"count":"7500.0"},{"lat":31.214600346196875,"lng":121.52290770904628,"count":"7500.0"}
];

    if(!isSupportCanvas()){
    	alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
	//详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
	//参数说明如下:
	/* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *	{
			.2:'rgb(0, 255, 255)',
			.5:'rgb(0, 110, 255)',
			.8:'rgb(100, 0, 255)'
		}
		其中 key 表示插值的位置, 0~1.
		    value 为颜色值.
     */
	heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
	map.addOverlay(heatmapOverlay);
	heatmapOverlay.setDataSet({data:points,max:100});
	//是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
	function closeHeatmap(){
        heatmapOverlay.hide();
    }
	closeHeatmap();
    function setGradient(){
     	/*格式如下所示:
		{
	  		0:'rgb(102, 255, 0)',
	 	 	.5:'rgb(255, 170, 0)',
		  	1:'rgb(255, 0, 0)'
		}*/
     	var gradient = {};
     	var colors = document.querySelectorAll("input[type='color']");
     	colors = [].slice.call(colors,0);
     	colors.forEach(function(ele){
			gradient[ele.getAttribute("data-key")] = ele.value;
     	});
        heatmapOverlay.setOptions({"gradient":gradient});
    }
	//判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>
